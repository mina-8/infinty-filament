import{u as V,r as d,af as y,j as e,$ as q,Y as j,I as B,q as z,ah as K,ai as v,aj as L,ak as Q}from"./app-BfZz6zm0.js";import{C as W}from"./ContentRenderer-gdlnKD05.js";import{I as Y}from"./ImageZoomBox-Cdbapi2h.js";import{S as A,T as M}from"./StarRating-BEbRV_wV.js";import{IoIosHeartEmpty as Z}from"./index-BgqeMSLx.js";import{s as G}from"./index-Ngpwl4hl.js";import"./ResizeObserver.es-B1PUzC5B.js";const re=({product:t})=>{const{t:r,i18n:n}=V(),[g,x]=d.useState(!1),[N,w]=d.useState({}),_=(s,a)=>{w(i=>({...i,[s]:a}))},o=N[t.id]||t.product_option[0].id,l=t.product_option.find(s=>s.id===o),[m,C]=G.useNotification(),[J,k]=d.useState(y()),h=()=>{k(y())},I=(s,a,i,c,u)=>{v(s,a,i,c,u,1),h(),m.success({message:"",description:`${r("notify.add_cart")}`})},S=(s,a,i,c,u)=>{v(s,a,i,c,u,1),h(),m.success({message:"",description:`${r("notify.add_cart")}`})},$=(s,a)=>{L(s,a,1),h(),m.success({message:"",description:`${r("notify.remove_cart")}`})},F=(s,a,i,c)=>{Q(s,a,i,c),m.success({message:"",description:`${r("notify.wish_list")}`})},b=(s,a)=>K(s,a),[R,D]=d.useState(0),[f,E]=d.useState({username:"",reviews:"",rate:0}),p=(s,a)=>{E(i=>({...i,[s]:a}))},T=s=>{D(s),p("rate",s)},H=s=>{s.preventDefault()};return e.jsxs(e.Fragment,{children:[e.jsx(q,{title:t.title}),C,e.jsxs("section",{className:"min-h-screen max-w-7xl mx-auto",children:[e.jsx("div",{className:"h-48"}),e.jsxs("div",{className:"bg-slate-300 p-2 rounded-lg flex items-center gap-6 px-6",children:[e.jsx(j,{href:route("welcome",{lang:n.language}),children:e.jsx(B,{})}),e.jsx(j,{href:route("category",{lang:n.language,slug:t.category_slug}),children:t.category_title}),t.subcategory_title&&e.jsx(j,{href:route("subcategory",{lang:n.language,category:t.category_slug,subcategory:t.subcategory_slug}),children:t.subcategory_title}),e.jsx("a",{href:`${z().url}`,className:"text-primary-color",children:t.title})]}),e.jsxs("section",{className:"lg:grid grid-cols-1 lg:grid-cols-[40%_1fr] gap-4 my-4 hidden",children:[e.jsx("div",{children:e.jsx(Y,{image:t.main_image,images:t.images})}),e.jsx("div",{children:e.jsxs("div",{children:[e.jsx("h2",{className:"lg:text-3xl text-xl pb-4 font-bold border-b-2",children:t.title}),e.jsxs("div",{className:"my-4 flex gap-12 items-center border-b-2 pb-4",children:[e.jsx("div",{className:"flex ",children:e.jsx(A,{rating:t.rate})}),e.jsx("div",{className:"border-r-2 border-l-2 px-8 hover:text-primary-color cursor-pointer",onClick:()=>{x(!0);const s=document.getElementById("reviews-comment");s&&s.scrollIntoView({behavior:"smooth"})},children:r("products.review")}),e.jsx("p",{className:"hover:text-primary-color cursor-pointer",onClick:()=>{x(!0);const s=document.getElementById("reviews-comment");s&&s.scrollIntoView({behavior:"smooth"})},children:r("products.comment")})]}),e.jsxs("div",{className:"font-medium text-4xl my-4 pb-4 border-b-2",children:[l==null?void 0:l.price," KD"]}),e.jsxs("div",{className:"my-4 pb-4 border-b-2 flex flex-col",children:[e.jsxs("div",{className:"flex gap-4 items-center my-2",children:[e.jsx("p",{children:r("products.product_code")}),":",e.jsx("p",{children:t.product_code})]}),e.jsxs("div",{className:"flex gap-4 items-center my-2",children:[e.jsx("p",{children:r("products.available")}),":",e.jsx("div",{children:t.avilable?e.jsxs("p",{className:"bg-primary-color p-2 rounded-lg text-white",children:[" ",r("products.no_stock")," "]}):e.jsx("p",{className:"bg-green-400 p-2 rounded-lg text-white",children:r("products.stock")})})]})]}),e.jsxs("div",{className:" rounded-lg p-4 bg-slate-200 flex flex-col gap-6",children:[e.jsx("p",{className:"lg:text-2xl font-bold text-xl",children:r("products.select_price")}),e.jsx("div",{className:"w-full",children:e.jsx("select",{name:"price",className:`rounded-xl focus:border-primary-color focus:ring-primary-color ${n.language=="ar"?"!pl-10 pr-2":"!pr-10 pl-2"} w-full`,style:{backgroundPosition:`${n.language=="ar"?"left":"right"}`},defaultValue:t.product_option[0].title,onChange:s=>_(t.id,Number(s.target.value)),children:t.product_option.map((s,a)=>e.jsxs("option",{value:s.id,children:[s.title," - (",s.price," KD)"]},a))})}),e.jsxs("div",{className:"flex w-full gap-4 flex-col lg:flex-row",children:[t.avilable?e.jsx("button",{type:"button",className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2 cursor-not-allowed",children:r("exhibition.add_to_cart")}):b(t.id,o)===0?e.jsx("button",{type:"button",onClick:()=>I(t.id,o,t.title,t.main_image,(l==null?void 0:l.price)??0),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2",children:r("exhibition.add_to_cart")}):e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsx("button",{type:"button",onClick:()=>S(t.id,o,t.title,t.main_image,(l==null?void 0:l.price)??0),className:"rounded-lg  bg-primary-color text-white text-center px-4 py-2",children:"+"}),e.jsx("span",{className:"font-medium",children:b(t.id,o)}),e.jsx("button",{type:"button",onClick:()=>$(t.id,o),className:"rounded-lg bg-primary-color text-white text-center px-4 py-2",children:"-"})]}),e.jsx("button",{type:"button",onClick:()=>F(t.id,t.title,t.main_image,o),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2 text-lg",children:e.jsx(M,{title:r("exhibition.wich_list"),children:e.jsx(Z,{})})})]})]})]})})]}),e.jsx("section",{className:"grid grid-cols-1 lg:grid-cols-1 gap-4 my-4",children:e.jsxs("div",{className:"border-[1px] rounded-lg",children:[e.jsxs("div",{className:"border-b-2 px-4 py-2 flex gap-6 items-center",children:[e.jsx("button",{className:`capitalize lg:text-xl text-lg ${g?"text-black":"text-primary-color"}`,onClick:()=>x(!1),children:r("products.description")}),e.jsx("button",{className:`capitalize lg:text-xl text-lg ${g?"text-primary-color":"text-black"}`,onClick:()=>x(!0),children:r("products.reviews")})]}),e.jsx("div",{id:"reviews-comment",className:"px-4 py-4",children:g?e.jsxs("div",{children:[e.jsx("div",{className:"text-xl py-4",children:r("products.form.title")}),e.jsxs("form",{onSubmit:H,noValidate:!1,className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col w-full gap-2",children:[e.jsxs("label",{htmlFor:"username",children:[r("products.form.name"),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",name:"username",required:!0,id:"username",value:f.username,onChange:s=>p("username",s.target.value),className:"rounded-xl"})]}),e.jsxs("div",{className:"flex flex-col w-full gap-2",children:[e.jsxs("label",{htmlFor:"reviews",children:[r("products.form.reviews"),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"reviews",id:"reviews",required:!0,rows:4,value:f.reviews,onChange:s=>p("reviews",s.target.value),className:"rounded-xl"})]}),e.jsxs("div",{className:"flex flex-col w-full gap-2",children:[e.jsxs("label",{children:[r("products.form.rate"),e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(s=>e.jsx("span",{className:`text-2xl cursor-pointer ${s<=R?"text-yellow-400":"text-gray-300"}`,onClick:()=>T(s),children:"â˜…"},s))})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"bg-primary-color px-4 py-2 rounded-lg text-white",children:r("products.form.submit")})})]})]}):e.jsx(W,{content:t.content})})]})})]})]})};export{re as default};
