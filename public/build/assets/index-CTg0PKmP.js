import{u as $,r as d,j as t,Y as k,af as L,ah as b,ai as M,aj as Z,G as E}from"./app-B9FO6x_7.js";import{S as T,T as F}from"./StarRating-BwQtoNhP.js";import{IoIosHeartEmpty as G}from"./index-BhDQ0sJn.js";import{s as D}from"./index-BKZ0qgiD.js";const A=({products:g,page:m,category_slug:h,subcategory_slug:j=null})=>{const{t:l,i18n:c}=$(),[v,w]=d.useState({}),[u,n]=d.useState(!1),N=(e,s)=>{w(a=>({...a,[e]:s}))},[y,C]=d.useState([]),[p,_]=D.useNotification(),i=async()=>{const e=await L();C(e)};d.useEffect(()=>{i()},[]);const V=async(e,s,a,r,o)=>{try{n(!0),await b(e,s,a,r,o,1),i(),p.success({message:"",description:`${l("notify.add_cart")}`})}catch{n(!1),i()}finally{n(!1)}},H=async(e,s,a,r,o)=>{try{n(!0),await b(e,s,a,r,o,1),i(),p.success({message:"",description:`${l("notify.add_cart")}`})}catch{n(!1),i()}finally{n(!1)}},S=async(e,s)=>{try{n(!0),await M(e,s,1),i(),p.success({message:"",description:`${l("notify.remove_cart")}`})}catch{n(!1),i()}finally{n(!1)}},I=(e,s,a,r)=>{Z(e,s,a,r),p.success({message:"",description:`${l("notify.wish_list")}`})},f=d.useCallback((e,s)=>{const a=y.find(r=>r.productId===e&&r.optionId===s);return a?a.quantity:0},[y]);return t.jsxs(t.Fragment,{children:[_,g.map((e,s)=>{const a=v[e.id]||e.product_option[0].id,r=e.product_option.find(o=>o.id===a);return t.jsxs("div",{className:"border-2 p-4 rounded-lg flex  items-center gap-4 relative",children:[(e.state=="special"||e.state=="new")&&t.jsx("div",{className:`absolute top-4 ${c.language=="ar"?"left-0 rounded-s-full":"right-0 rounded-s-full"}  bg-primary-color text-white py-1 px-2`,children:e.state=="special"?l("exhibition.special"):l("exhibition.new")}),t.jsx(k,{href:m==="category"?route("product-category",{lang:c.language,category:h,product:e.slug}):route("product-subcategory",{lang:c.language,category:h,subcategory:j,product:e.slug}),children:t.jsx("div",{children:t.jsx("img",{src:e.main_image,alt:"",className:"h-52"})})}),t.jsxs("div",{className:"flex flex-col justify-between gap-4",children:[t.jsx("p",{className:" font-semibold text-lg hover:text-primary-color",children:e.title}),t.jsxs("p",{className:"font-semibold text-lg text-primary-color",children:[r==null?void 0:r.price," KD"]}),t.jsx("div",{className:"flex",children:t.jsx(T,{rating:e.rate})}),t.jsx("select",{name:"price",className:`rounded-xl focus:border-primary-color focus:ring-primary-color ${c.language=="ar"?"!pl-10 pr-2":"!pr-10 pl-2"}`,style:{backgroundPosition:`${c.language=="ar"?"left":"right"}`},defaultValue:e.product_option[0].title,onChange:o=>N(e.id,Number(o.target.value)),children:e.product_option.map((o,x)=>t.jsxs("option",{value:o.id,children:[o.title," - (",o.price," KD)"]},x))}),t.jsxs("div",{className:"flex w-full gap-4 flex-col lg:flex-row",children:[e.avilable?t.jsx("button",{type:"button",disabled:u,className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2",children:l("exhibition.add_to_cart")}):f(e.id,a)>0?t.jsxs("div",{className:"flex justify-between items-center gap-4",children:[t.jsx("button",{type:"button",disabled:u,onClick:()=>H(e.id,a,e.title,e.main_image,(r==null?void 0:r.price)??0),className:"rounded-lg  bg-primary-color text-white text-center px-4 py-2",children:"+"}),t.jsx("span",{className:"font-medium",children:f(e.id,a)}),t.jsx("button",{type:"button",disabled:u,onClick:()=>S(e.id,a),className:"rounded-lg bg-primary-color text-white text-center px-4 py-2",children:"-"})]}):t.jsx("button",{type:"button",disabled:u,onClick:()=>V(e.id,a,e.title,e.main_image,(r==null?void 0:r.price)??0),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2",children:l("exhibition.add_to_cart")}),t.jsx("button",{type:"button",onClick:()=>I(e.id,e.title,e.main_image,a),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2 text-lg",children:t.jsx(F,{title:l("exhibition.wich_list"),children:t.jsx("span",{children:t.jsx(G,{})})})})]})]})]},s)})]})},Q=({products:g,page:m,category_slug:h,subcategory_slug:j=null})=>{const{t:l,i18n:c}=$(),[v,w]=d.useState({}),[u,n]=d.useState(!1),N=(e,s)=>{w(a=>({...a,[e]:s}))},[y,C]=d.useState([]),[p,_]=D.useNotification(),i=async()=>{const e=await L();C(e)};d.useEffect(()=>{i()},[]);const V=async(e,s,a,r,o)=>{try{n(!0),await b(e,s,a,r,o,1),i(),p.success({message:"",description:`${l("notify.add_cart")}`})}catch{n(!1),i()}finally{n(!1)}},H=async(e,s,a,r,o)=>{try{n(!0),await b(e,s,a,r,o,1),i(),p.success({message:"",description:`${l("notify.add_cart")}`})}catch{n(!1),i()}finally{n(!1)}},S=async(e,s)=>{try{n(!0),await M(e,s,1),i(),p.success({message:"",description:`${l("notify.remove_cart")}`})}catch{n(!1),i()}finally{n(!1)}},I=(e,s,a,r)=>{Z(e,s,a,r),p.success({message:"",description:`${l("notify.wish_list")}`})},f=d.useCallback((e,s)=>{const a=y.find(r=>r.productId===e&&r.optionId===s);return a?a.quantity:0},[y]);return t.jsxs(t.Fragment,{children:[_,g.map((e,s)=>{const a=v[e.id]||e.product_option[0].id,r=e.product_option.find(o=>o.id===a);return t.jsxs("div",{className:"border-2 p-4 rounded-lg flex flex-col justify-center items-center gap-4 relative",children:[(e.state=="special"||e.state=="new")&&t.jsx("div",{className:`absolute top-4 ${c.language=="ar"?"left-0 rounded-s-full":"right-0 rounded-s-full"}  bg-primary-color text-white py-1 px-2`,children:e.state=="special"?l("exhibition.special"):l("exhibition.new")}),t.jsxs(k,{href:m==="category"?route("product-category",{lang:c.language,category:h,product:e.slug}):route("product-subcategory",{lang:c.language,category:h,subcategory:j,product:e.slug}),children:[t.jsx("div",{children:t.jsx("img",{src:e.main_image,alt:"",className:"h-52"})}),t.jsx("p",{className:"self-start font-medium text-lg hover:text-primary-color",children:e.title})]}),t.jsxs("div",{className:"flex justify-between items-center w-full",children:[t.jsxs("p",{className:"font-semibold text-lg text-primary-color",children:[r==null?void 0:r.price," KD"]}),t.jsx("div",{className:"flex",children:t.jsx(T,{rating:e.rate})})]}),t.jsx("div",{className:"w-full",children:t.jsx("select",{name:"price",className:`rounded-xl focus:border-primary-color focus:ring-primary-color ${c.language=="ar"?"!pl-10 pr-2":"!pr-10 pl-2"} w-full`,style:{backgroundPosition:`${c.language=="ar"?"left":"right"}`},defaultValue:e.product_option[0].title,onChange:o=>N(e.id,Number(o.target.value)),children:e.product_option.map((o,x)=>t.jsxs("option",{value:o.id,children:[o.title," - (",o.price," KD)"]},x))})}),t.jsxs("div",{className:"flex w-full gap-4 flex-col lg:flex-row",children:[e.avilable?t.jsx("button",{type:"button",disabled:u,className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2",children:l("exhibition.add_to_cart")}):f(e.id,a)>0?t.jsxs("div",{className:"flex justify-between items-center gap-4",children:[t.jsx("button",{type:"button",disabled:u,onClick:()=>H(e.id,a,e.title,e.main_image,(r==null?void 0:r.price)??0),className:"rounded-lg  bg-primary-color text-white text-center px-4 py-2",children:"+"}),t.jsx("span",{className:"font-medium",children:f(e.id,a)}),t.jsx("button",{type:"button",disabled:u,onClick:()=>S(e.id,a),className:"rounded-lg bg-primary-color text-white text-center px-4 py-2",children:"-"})]}):t.jsx("button",{type:"button",disabled:u,onClick:()=>V(e.id,a,e.title,e.main_image,(r==null?void 0:r.price)??0),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2",children:l("exhibition.add_to_cart")}),t.jsx("button",{type:"button",onClick:()=>I(e.id,e.title,e.main_image,a),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2 text-lg",children:t.jsx(F,{title:l("exhibition.wich_list"),children:t.jsx("span",{children:t.jsx(G,{})})})})]})]},s)})]})};function Y(){const g=localStorage.getItem("grid");return g===null?!0:g==="true"}function B(){return localStorage.setItem("grid","true"),!0}function z(){return localStorage.setItem("grid","false"),!1}function J(g){return E({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3C2.44772 3 2 3.44772 2 4V8L7.5 8V3H3ZM9.5 3V8H14.5V3H9.5ZM16.5 3V8H22V4C22 3.44772 21.5523 3 21 3H16.5ZM22 10H16.5V14H22V10ZM22 16H16.5V21H21C21.5523 21 22 20.5523 22 20V16ZM14.5 21V16H9.5V21H14.5ZM7.5 21V16H2V20C2 20.5523 2.44772 21 3 21H7.5ZM2 14H7.5V10L2 10V14ZM9.5 10H14.5V14H9.5V10Z"},child:[]}]})(g)}export{A as F,Y as G,J as R,B as a,Q as b,z as s};
