import{u as S,r as g,af as x,j as t,Y as $,ah as k,ai as h,aj as I,ak as M,G as D}from"./app-BfZz6zm0.js";import{S as Z,T as L}from"./StarRating-BEbRV_wV.js";import{IoIosHeartEmpty as T}from"./index-BgqeMSLx.js";import{s as F}from"./index-Ngpwl4hl.js";const W=({products:i,page:y,category_slug:u,subcategory_slug:m=null})=>{const{t:l,i18n:n}=S(),[f,b]=g.useState({}),j=(e,a)=>{b(r=>({...r,[e]:a}))},[G,v]=g.useState(x()),[c,H]=F.useNotification(),d=()=>{v(x())},N=(e,a,r,s,o)=>{h(e,a,r,s,o,1),d(),c.success({message:"",description:`${l("notify.add_cart")}`})},C=(e,a,r,s,o)=>{h(e,a,r,s,o,1),d(),c.success({message:"",description:`${l("notify.add_cart")}`})},w=(e,a)=>{I(e,a,1),d(),c.success({message:"",description:`${l("notify.remove_cart")}`})},_=(e,a,r,s)=>{M(e,a,r,s),c.success({message:"",description:`${l("notify.wish_list")}`})},p=(e,a)=>k(e,a);return t.jsx(t.Fragment,{children:i.map((e,a)=>{const r=f[e.id]||e.product_option[0].id,s=e.product_option.find(o=>o.id===r);return t.jsxs("div",{className:"border-2 p-4 rounded-lg flex  items-center gap-4 relative",children:[(e.state=="special"||e.state=="new")&&t.jsx("div",{className:`absolute top-4 ${n.language=="ar"?"left-0 rounded-s-full":"right-0 rounded-s-full"}  bg-primary-color text-white py-1 px-2`,children:e.state=="special"?l("exhibition.special"):l("exhibition.new")}),t.jsx($,{href:y==="category"?route("product-category",{lang:n.language,category:u,product:e.slug}):route("product-subcategory",{lang:n.language,category:u,subcategory:m,product:e.slug}),children:t.jsx("div",{children:t.jsx("img",{src:e.main_image,alt:"",className:"h-52"})})}),t.jsxs("div",{className:"flex flex-col justify-between gap-4",children:[t.jsx("p",{className:" font-semibold text-lg hover:text-primary-color",children:e.title}),t.jsxs("p",{className:"font-semibold text-lg text-primary-color",children:[s==null?void 0:s.price," KD"]}),t.jsx("div",{className:"flex",children:t.jsx(Z,{rating:e.rate})}),t.jsx("select",{name:"price",className:`rounded-xl focus:border-primary-color focus:ring-primary-color ${n.language=="ar"?"!pl-10 pr-2":"!pr-10 pl-2"}`,style:{backgroundPosition:`${n.language=="ar"?"left":"right"}`},defaultValue:e.product_option[0].title,onChange:o=>j(e.id,Number(o.target.value)),children:e.product_option.map((o,V)=>t.jsxs("option",{value:o.id,children:[o.title," - (",o.price," KD)"]},V))}),t.jsxs("div",{className:"flex w-full gap-4 flex-col lg:flex-row",children:[p(e.id,r)===0?t.jsx("button",{type:"button",onClick:()=>N(e.id,r,e.title,e.main_image,(s==null?void 0:s.price)??0),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2",children:l("exhibition.add_to_cart")}):t.jsxs("div",{className:"flex justify-between items-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>C(e.id,r,e.title,e.main_image,(s==null?void 0:s.price)??0),className:"rounded-lg  bg-primary-color text-white text-center px-4 py-2",children:"+"}),t.jsx("span",{className:"font-medium",children:p(e.id,r)}),t.jsx("button",{type:"button",onClick:()=>w(e.id,r),className:"rounded-lg bg-primary-color text-white text-center px-4 py-2",children:"-"})]}),t.jsx("button",{type:"button",onClick:()=>_(e.id,e.title,e.main_image,r),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2 text-lg",children:t.jsx(L,{title:l("exhibition.wich_list"),children:t.jsx(T,{})})})]})]})]},a)})})},A=({products:i,page:y,category_slug:u,subcategory_slug:m=null})=>{const{t:l,i18n:n}=S(),[f,b]=g.useState({}),j=(e,a)=>{b(r=>({...r,[e]:a}))},[G,v]=g.useState(x()),[c,H]=F.useNotification(),d=()=>{v(x())},N=(e,a,r,s,o)=>{h(e,a,r,s,o,1),d(),c.success({message:"",description:`${l("notify.add_cart")}`})},C=(e,a,r,s,o)=>{h(e,a,r,s,o,1),d(),c.success({message:"",description:`${l("notify.add_cart")}`})},w=(e,a)=>{I(e,a,1),d(),c.success({message:"",description:`${l("notify.remove_cart")}`})},_=(e,a,r,s)=>{M(e,a,r,s),c.success({message:"",description:`${l("notify.wish_list")}`})},p=(e,a)=>k(e,a);return t.jsxs(t.Fragment,{children:[H,i.map((e,a)=>{const r=f[e.id]||e.product_option[0].id,s=e.product_option.find(o=>o.id===r);return t.jsxs("div",{className:"border-2 p-4 rounded-lg flex flex-col justify-center items-center gap-4 relative",children:[(e.state=="special"||e.state=="new")&&t.jsx("div",{className:`absolute top-4 ${n.language=="ar"?"left-0 rounded-s-full":"right-0 rounded-s-full"}  bg-primary-color text-white py-1 px-2`,children:e.state=="special"?l("exhibition.special"):l("exhibition.new")}),t.jsxs($,{href:y==="category"?route("product-category",{lang:n.language,category:u,product:e.slug}):route("product-subcategory",{lang:n.language,category:u,subcategory:m,product:e.slug}),children:[t.jsx("div",{children:t.jsx("img",{src:e.main_image,alt:"",className:"h-52"})}),t.jsx("p",{className:"self-start font-medium text-lg hover:text-primary-color",children:e.title})]}),t.jsxs("div",{className:"flex justify-between items-center w-full",children:[t.jsxs("p",{className:"font-semibold text-lg text-primary-color",children:[s==null?void 0:s.price," KD"]}),t.jsx("div",{className:"flex",children:t.jsx(Z,{rating:e.rate})})]}),t.jsx("div",{className:"w-full",children:t.jsx("select",{name:"price",className:`rounded-xl focus:border-primary-color focus:ring-primary-color ${n.language=="ar"?"!pl-10 pr-2":"!pr-10 pl-2"} w-full`,style:{backgroundPosition:`${n.language=="ar"?"left":"right"}`},defaultValue:e.product_option[0].title,onChange:o=>j(e.id,Number(o.target.value)),children:e.product_option.map((o,V)=>t.jsxs("option",{value:o.id,children:[o.title," - (",o.price," KD)"]},V))})}),t.jsxs("div",{className:"flex w-full gap-4 flex-col lg:flex-row",children:[p(e.id,r)===0?t.jsx("button",{type:"button",onClick:()=>N(e.id,r,e.title,e.main_image,(s==null?void 0:s.price)??0),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2",children:l("exhibition.add_to_cart")}):t.jsxs("div",{className:"flex justify-between items-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>C(e.id,r,e.title,e.main_image,(s==null?void 0:s.price)??0),className:"rounded-lg  bg-primary-color text-white text-center px-4 py-2",children:"+"}),t.jsx("span",{className:"font-medium",children:p(e.id,r)}),t.jsx("button",{type:"button",onClick:()=>w(e.id,r),className:"rounded-lg bg-primary-color text-white text-center px-4 py-2",children:"-"})]}),t.jsx("button",{type:"button",onClick:()=>_(e.id,e.title,e.main_image,r),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2 text-lg",children:t.jsx(L,{title:l("exhibition.wich_list"),children:t.jsx(T,{})})})]})]},a)})]})};function Y(){const i=localStorage.getItem("grid");return i===null?!0:i==="true"}function B(){return localStorage.setItem("grid","true"),!0}function q(){return localStorage.setItem("grid","false"),!1}function z(i){return D({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3C2.44772 3 2 3.44772 2 4V8L7.5 8V3H3ZM9.5 3V8H14.5V3H9.5ZM16.5 3V8H22V4C22 3.44772 21.5523 3 21 3H16.5ZM22 10H16.5V14H22V10ZM22 16H16.5V21H21C21.5523 21 22 20.5523 22 20V16ZM14.5 21V16H9.5V21H14.5ZM7.5 21V16H2V20C2 20.5523 2.44772 21 3 21H7.5ZM2 14H7.5V10L2 10V14ZM9.5 10H14.5V14H9.5V10Z"},child:[]}]})(i)}export{W as F,Y as G,z as R,B as a,A as b,q as s};
