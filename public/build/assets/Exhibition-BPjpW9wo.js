import{u as E,r as c,af as u,j as t,Y as B,ag as D,ah as A,ai as x,aj as F,ak as H}from"./app-BfZz6zm0.js";import{S as K,T as L}from"./StarRating-BEbRV_wV.js";import{IoIosHeartEmpty as Q}from"./index-BgqeMSLx.js";import{s as R}from"./index-Ngpwl4hl.js";import"./ResizeObserver.es-B1PUzC5B.js";const G=({products:h})=>{const{t:i,i18n:l}=E(),[g,m]=c.useState(h),y=[{title:"exhibition.special_promtion",payload:"special"},{title:"exhibition.new_products",payload:"new"},{title:"exhibition.top_seller",payload:"top"},{title:"exhibition.kid_range",payload:"kids"}],[b,f]=c.useState("special"),j=async e=>{f(e);const s=await D.get(route("filter-products",{lang:l.language}),{params:{statefilter:e}});m(s.data.products)},[v,N]=c.useState({}),w=(e,s)=>{N(a=>({...a,[e]:s}))},[n,C]=R.useNotification(),[W,_]=c.useState(u()),d=()=>{_(u())},S=(e,s,a,r,o)=>{x(e,s,a,r,o,1),d(),n.success({message:"",description:`${i("notify.add_cart")}`})},k=(e,s,a,r,o)=>{x(e,s,a,r,o,1),d(),n.success({message:"",description:`${i("notify.add_cart")}`})},$=(e,s)=>{F(e,s,1),d(),n.success({message:"",description:`${i("notify.remove_cart")}`})},I=(e,s,a,r)=>{H(e,s,a,r),n.success({message:"",description:`${i("notify.wish_list")}`})},p=(e,s)=>A(e,s);return t.jsxs("section",{className:"w-full max-w-6xl my-12 mx-auto relative",children:[C,t.jsx("h2",{className:"text-center my-4 font-bold text-3xl",children:i("home.exhibition")}),t.jsx("div",{className:"flex justify-center items-center gap-8 my-8",children:y.map((e,s)=>t.jsx("button",{type:"button",onClick:()=>j(e.payload),className:`border-primary-color hover:border-dashed border-opacity-0 hover:border-opacity-100 border-2 px-4 py-2 rounded-lg
                            ${b===e.payload?"border-opacity-100 border-dashed":""}
                            `,children:i(e.title)},s))}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-4 my-8 gap-6",children:g.map((e,s)=>{const a=v[e.id]||e.product_option[0].id,r=e.product_option.find(o=>o.id===a);return t.jsxs("div",{className:"border-2 p-4 rounded-lg flex flex-col justify-center items-center gap-4 relative",children:[(e.state=="special"||e.state=="new")&&t.jsx("div",{className:`absolute top-4 ${l.language=="ar"?"left-0 rounded-s-full":"right-0 rounded-s-full"}  bg-primary-color text-white py-1 px-2`,children:e.state=="special"?i("exhibition.special"):i("exhibition.new")}),t.jsxs(B,{href:route("product-show",{lang:l.language,state:e.state,product:e.slug}),children:[t.jsx("div",{children:t.jsx("img",{src:e.image,alt:"",className:"h-52"})}),t.jsx("p",{className:"self-start font-medium text-lg hover:text-primary-color",children:e.title})]}),t.jsxs("div",{className:"flex justify-between items-center w-full",children:[t.jsxs("p",{className:"font-semibold text-lg text-primary-color",children:[r==null?void 0:r.price," KD"]}),t.jsx("div",{className:"flex",children:t.jsx(K,{rating:Number(e.rate)})})]}),t.jsx("div",{className:"w-full",children:t.jsx("select",{name:"price",className:`rounded-xl focus:border-primary-color focus:ring-primary-color ${l.language=="ar"?"!pl-10 pr-2":"!pr-10 pl-2"}`,style:{backgroundPosition:`${l.language=="ar"?"left":"right"}`},defaultValue:e.product_option[0].title,onChange:o=>w(e.id,Number(o.target.value)),children:e.product_option.map((o,T)=>t.jsxs("option",{value:o.id,children:[o.title," - (",o.price," KD)"]},T))})}),t.jsxs("div",{className:"flex w-full gap-4 flex-col lg:flex-row",children:[p(e.id,a)===0?t.jsx("button",{type:"button",onClick:()=>S(e.id,a,e.title,e.image,(r==null?void 0:r.price)??0),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2",children:i("exhibition.add_to_cart")}):t.jsxs("div",{className:"flex justify-between items-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>k(e.id,a,e.title,e.image,(r==null?void 0:r.price)??0),className:"rounded-lg  bg-primary-color text-white text-center px-4 py-2",children:"+"}),t.jsx("span",{className:"font-medium",children:p(e.id,a)}),t.jsx("button",{type:"button",onClick:()=>$(e.id,a),className:"rounded-lg bg-primary-color text-white text-center px-4 py-2",children:"-"})]}),t.jsx("button",{type:"button",onClick:()=>I(e.id,e.title,e.image,a),className:"rounded-lg border-[1px] hover:bg-primary-color hover:text-white transition-all duration-300 border-primary-color px-4 py-2 text-lg",children:t.jsx(L,{title:i("exhibition.wich_list"),children:t.jsx(Q,{})})})]})]},s)})})]})};export{G as default};
