import{u as f,r as x,j as e,Y as c,I as y,ac as b,ae as N,af as v}from"./app-PnxvuRUn.js";import{s as w}from"./index-BPjIG6ua.js";const S=()=>{const{t,i18n:r}=f(),[n,p]=x.useState([]),l=async()=>{const s=await b();p(s)};x.useEffect(()=>{l()},[]);const[o,C]=w.useNotification(),i=()=>{l()},h=async(s,a,u,g,j)=>{await N(s,a,u,g,j,1),i(),o.success({message:"",description:`${t("notify.add_cart")}`})},m=async(s,a)=>{await v(s,a,1),i(),o.success({message:"",description:`${t("notify.remove_cart")}`})},d=()=>n.reduce((s,a)=>s+a.price*a.quantity,0).toFixed(2);return e.jsxs("section",{className:"min-h-screen max-w-7xl mx-auto",children:[e.jsx("div",{className:"h-48"}),e.jsx("div",{className:"bg-slate-300 p-2 rounded-lg flex items-center gap-6 px-6",children:e.jsx(c,{href:route("welcome",{lang:r.language}),children:e.jsx(y,{})})}),e.jsx("section",{className:"grid grid-cols-1 gap-4",children:n.map((s,a)=>e.jsxs("div",{className:"px-4 py-2 border-2 rounded-lg my-4 flex items-center gap-4",children:[e.jsx("div",{children:e.jsx("img",{src:s.image,alt:"",className:"h-28"})}),e.jsxs("div",{className:"flex flex-col justify-between gap-4",children:[e.jsx("p",{className:" font-semibold text-lg hover:text-primary-color",children:s.title}),e.jsx("p",{children:s.product_code}),e.jsx("p",{children:s.option_title}),e.jsxs("p",{children:[s.price," SAR"]}),e.jsx("div",{className:"flex w-full gap-4 flex-col lg:flex-row",children:e.jsxs("div",{className:"flex justify-between items-center gap-4",children:[e.jsx("button",{type:"button",onClick:()=>h(s.productId,s.optionId,s.title,s.image,s.price),className:"rounded-lg  bg-primary-color text-white text-center px-4 py-2",children:"+"}),e.jsx("span",{className:"font-medium",children:s.quantity}),e.jsx("button",{type:"button",onClick:()=>m(s.productId,s.optionId),className:"rounded-lg bg-primary-color text-white text-center px-4 py-2",children:"-"})]})})]})]},a))}),e.jsx("section",{className:`flex ${r.language=="ar","justify-end"} `,children:e.jsx("table",{children:e.jsxs("tbody",{className:"border",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"border p-1",children:t("navbarlist.cartnav.sub_total")}),e.jsxs("td",{className:"border p-1",children:[d()," SAR"]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"border p-1",children:t("navbarlist.cartnav.total")}),e.jsxs("td",{className:"border p-1",children:[d()," SAR"]})]})]})})}),e.jsxs("section",{className:"flex justify-between items-center gap-4 my-4",children:[e.jsx(c,{href:route("welcome",{lang:r.language}),className:"bg-primary-color px-4 py-2 rounded-lg text-white",children:t("navbarlist.cartnav.continue")}),e.jsx(c,{href:route("check-out",{lang:r.language}),className:"bg-primary-color px-4 py-2 rounded-lg text-white",children:t("navbarlist.cartnav.check_out")})]})]})};export{S as default};
